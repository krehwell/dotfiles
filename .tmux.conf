# ----- FIX VIM COLOR SCHEME IN TMUX -----
set -g default-terminal screen-256color
set-option -ga terminal-overrides ",xterm-256color:Tc"


set -g history-limit 10000


# ----- PREVENT DELAY FOR VIM `CTRL + [` -----
set -sg escape-time 0


# ----- SET NEW WINDOW INITIAL PATH BASED FROM CURRENT WINDOW -----
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"


# ----- BIND FOR MOVING-WINDOW
bind-key i run-shell "tmux neww ~/utils/cht.sh/main"
bind-key "C-p" run-shell "tmux neww ~/utils/tmux-sessionizer"
bind-key k swap-window -t -1\; select-window -t -1
bind-key j swap-window -t +1\; select-window -t +1


# ----- BEHAVIOUR CONFIGURATION -----
set -g mouse on
set -s set-clipboard on

# ----- Vi MODE -----
setw -g mode-keys vi
unbind -T copy-mode-vi MouseDragEnd1Pane # don't reset scroll upon mouse drag
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind -T copy-mode-vi v send -X begin-selection


# ----- THE BAR BELOW CONFIGURATION ----
set-option -g status-style bg=default
set-option -g status-style fg=colour249
set-option -g status-left-length 100
# set-option -g status-right-length 100
set-option -g status-right "#{?window_bigger,[#{window_offset_x}#,#{window_offset_y}] ,}\"#{=50:pane_title}\""
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F'
setw -g window-status-format ' #I#[fg=colour247]:#[fg=colour247]#W#[fg=colour247]#F'
